#
# define display information
#
name: Assemble Reads with MEGAHIT v1.2.9
tooltip: Assemble metagenomic reads using the MEGAHIT assembler.
screenshots: []

icon: megahit-blue.png

#
# define a set of similar methods that might be useful to the user
#
suggestions:
	apps:
		related:
			[]
		next:
			[]
	methods:
		related:
			[]
		next:
			[]

#
# Configure the display and description of parameters
#
parameters :
    read_library_ref :
        ui-name : Paired-End Eead library
        short-hint : Select a paired-end read library to assemble.
    output_contigset_name:
        ui-name : Output Assembly Name
        short-hint : Enter a name for the Assembly object.
    megahit_parameter_preset:
        ui-name : Parameter preset
        short-hint : Select a preset for MEGAHIT parameters. Choose either meta-sensitive ('--min-count 1 --k-list 21,29,39,49,...,129,141') or meta-large (--k-min 27 --k-max 127 --k-step 10').
    min_count:
        ui-name : Minimum multiplicity for filtering
        short-hint : The minimum multiplicity for filtering (k_min+1)-mers; default is 2.
    k_min:
        ui-name : Minimum k-mer size
        short-hint : The minimum kmer size. Note that this number must be less than or equal to 127 and odd; default is 21.
    k_max:
        ui-name : Maximum k-mer size
        short-hint : The maximum kmer size. Note that this number must bc less than or equal to 255 and odd; default is 141.
    k_step:
        ui-name : Increment k-mer size
        short-hint : The increment of k-mer size of each iteration. Note that this number must be less than or equal to 28 and even; default is 10.
    k_list:
        ui-name : List of k-mer sizes
        short-hint : The list of kmer sizes. Note that all values must be odd and in the range of 15-255; increment value must be less than or equal to 28.
    min_contig_length:
        ui-name : Minimum contig length
        short-hint : The minimum length of contigs to keep in the Assembly.


description : |
    <p>This is a KBase wrapper for the ultra-fast and memory-efficient metagenome assembler MEGAHIT. MEGAHIT is a single node assembler optimized for large and complex metagenomics next-generation sequencing (NGS) reads, such as soil. It can also be used to assemble reads from less complex metagenomes. It makes use of succinct de Bruijn graphs (SdBG) to achieve a low memory assembly. The output is an assembly object, which can be used for downstream analysis such as binning genomes from a metagenome assembly.</p>
    <p>MEGAHIT uses a multiple k-mer strategy. Minimum k-mer size, maximum k-mer size, and the k-mer step size for each iteration can be set in the parameters. Values for k must be odd numbers while the step size must be an even number.</p>
    <p>User feedback and extensive use on KBase has led to these observations about setting input parameters for MEGAHIT:
      <ul>
        <li>MEGAHIT makes decisions about the order in which optional parameters are implemented. If k-min, k-max, and k-step are all three left blank, the k-list of [21,29,39,59,79,99,119,141] is used. This list is different than the one generated by using the default values for minimum k-mer size, maximum k-mer size, and the k-mer step size</li>
        <li>If parameters are specified for the minimum k-mer size, maximum k-mer size, or the k-mer step size parameters, then the default values will be used for the remaining parameter(s).</li>
        <li>The original documentation claims that the default k-mer step size (k-step) is 12. In practice, it is set to 10.</li>
        <li>The maximum k-mer size will be reset if the kmaximum k-mer size is greater than the longest read length + 20. If this results in an even number, the maximum k-mer size will be reset to the longest read length + 19.</li>
        <li>It is possible to set parameters so extreme that MEGAHIT ends with an error. </li>
        <ul>
          <li>If the minimum k-mer size is larger than the longest read, there are no reads to assemble and MEGAHIT ends in an error.</li>
          <li>If the minimum k-mer size is set high, there may be very few reads to assemble. In these cases, it is possible to set min_count at a value that has no assembled contigs, and MEGAHIT ends with an error.</li>
          <li>If the minimum k-mer size is set high, there may be very few reads to assemble. If contigs do get assembled but none pass the minimum contig length filter, MEGAHIT will end cleanly but have no contigs.</li>
        </ul>
      </ul>
    </p>
    <p>
    KBase module authors:
    <ul>
      <li> Michael Sneddon </li>
      <li> Roman Sutormin </li>
      <li> Dylan Chivian </li>
    </ul>
    </p>
    <p>
      KBase module authors:
      <ul>
        <li> Michael Sneddon </li>
        <li> Roman Sutormin </li>
        <li> Dylan Chivian </li>
      </ul>
    </p>

publications :
    -
        pmid: 25609793
        display-text : |
            Li D, Liu C-M, Luo R, Sadakane K, Lam T-W. MEGAHIT: an ultra-fast single-node solution for large and complex metagenomics assembly via succinct de Bruijn graph. Bioinformatics. 2015;31: 1674â€“1676. doi:10.1093/bioinformatics/btv033
        link: http://www.ncbi.nlm.nih.gov/pubmed/25609793
